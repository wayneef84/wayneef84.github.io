<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Magic XTC Ball | Founding & Forging</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="apple-touch-icon" href="../../assets/icon.png">
</head>
<body>

    <div class="game-container">
        <header class="game-header">
            <a href="../../index.html" class="back-btn">‚Üê Arcade</a>
            <h1 id="ballName">Magic XTC Ball</h1>
            <div id="headerControls" class="header-controls">
                <button id="vibrateBtn" class="icon-btn">
                    <svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M10 3h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm6.5 13v-8h1v8h-1zm3-2v-4h1v4h-1zm-13-6v8H6V8h.5zm-3 2v4H3v-4h.5z"/></svg>
                </button>
                <button id="muteBtn" class="icon-btn">
                    <svg viewBox="0 0 24 24"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg>
                </button>
                <button id="settingsBtn" class="icon-btn">
                    <svg viewBox="0 0 24 24"><path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L3.15 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.58 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/></svg>
                </button>
            </div>
        </header>

        <main class="oracle-stage">
            
            <div class="shadow"></div>

            <div id="oracleBall" class="ball">
                <div class="face front">
                    <div class="badge">
                        <span id="ballLabel">8</span>
                    </div>
                </div>

                <div class="face back">
                    <div class="window-rim">
                        <div class="liquid">
                            <div class="bubble b1"></div>
                            <div class="bubble b2"></div>
                            <div class="bubble b3"></div>
                            
                            <div id="answerTriangle" class="triangle">
                                <span id="answerText">TRY<br>AGAIN</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="instructions" id="instructionText">Tap to Ask</div>
            
            <button class="small-btn" 
                    style="margin-top: 15px; background: transparent; border: 1px solid #4a3b2a; color: #4a3b2a;" 
                    onclick="document.getElementById('settingsBtn').click()">
                Change Ball ‚Üª
            </button>
            
            <button id="motionPermBtn" class="perm-btn hidden">Enable Shake</button>

        </main>
    </div>

    <div id="settingsModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Ball Settings</h2>
                <button id="closeModal" class="close-btn">√ó</button>
            </div>
            
            <div class="modal-body">
                
                <div class="modal-split-top">
                    
                    <div class="modal-col-left">
                        <div id="miniBall" class="ball-mini">
                            <div class="badge-mini">
                                <span id="miniLabel">8</span>
                            </div>
                        </div>
                    </div>

                    <div class="modal-col-right">
                        <div class="setting-group tight">
                            <label>Select Ball</label>
                            <div class="select-row">
                                <select id="ballSelector"></select>
                                <button id="createNewBtn" class="small-btn">+</button>
                            </div>
                        </div>

                        <div class="setting-group tight">
                            <label>Name</label>
                            <input type="text" id="editName" placeholder="Ball Name">
                        </div>
                        
                        <div class="row-group">
                            <div class="setting-group half tight">
                                <label>Body Color</label>
                                <input type="color" id="editColor" value="#000000">
                            </div>
                            <div class="setting-group half tight">
                                <label>Fluid Color</label>
                                <input type="color" id="editLiquidColor" value="#100060">
                            </div>
                        </div>

                        <div class="setting-group tight">
                            <label>Label (1-3 chars)</label>
                            <input type="text" id="editLabel" maxlength="3" value="8">
                        </div>
                    </div>
                </div>

                <hr class="separator">

                <div class="setting-group">
                    <label>Answers & Weights</label>
                    <div class="answers-container">
                        <table id="answersTable">
                            <thead>
                                <tr>
                                    <th>Option</th>
                                    <th width="75">Weight</th>
                                    <th width="30"></th>
                                </tr>
                            </thead>
                            <tbody id="answersList">
                                </tbody>
                        </table>
                        <button id="addAnswerBtn" class="small-btn full-width" style="margin-top:5px">+ Add Answer Option</button>
                    </div>
                </div>

                <div class="actions">
                    <span id="lockedMessage" class="status-msg hidden">üîí Preset balls cannot be edited</span>
                    <div id="editControls" class="control-row">
                        <button id="selectBallBtn" class="action-btn primary hidden">Select & Play</button>
                        
                        <button id="saveBallBtn" class="action-btn primary hidden">Save & Play</button>
                        
                        <button id="deleteBallBtn" class="action-btn danger hidden">Delete</button>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <script src="js/config.js"></script>
    <script src="js/sound.js"></script>
    <script src="js/game.js"></script>
</body>
</html>